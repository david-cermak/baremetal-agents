| Original Function | Refactored Function | Concerns |
|------------------|--------------------|---------|
| [_udp_pcb_main_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L50) | [pcb_init](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L69) |  |
| [_udp_pcb_main_deinit](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L74) | [pcb_deinit](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L93) |  |
| [_udp_join_group](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L87) | [join_group](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L106) |  |
| [_udp_recv](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L138) | [receive](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L157) |  |
| [mdns_is_netif_ready](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L215) | [mdns_priv_if_ready](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L96) |  |
| [_udp_pcb_is_in_use](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L224) | [is_any_pcb_in_use](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L243) | The function name changed from _udp_pcb_is_in_use to is_any_pcb_in_use, and the internal check changed from mdns_is_netif_ready to mdns_priv_if_ready. While this appears to be a straightforward rename and internal function call change, we should verify that mdns_priv_if_ready maintains the same semantic meaning as the original mdns_is_netif_ready function. |
| [_udp_pcb_deinit](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L240) | [pcb_if_deinit](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L259) |  |
| [_udp_pcb_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L255) | [pcb_if_init](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L274) |  |
| [_mdns_pcb_init_api](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L289) | [pcb_if_init_lwip](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L308) |  |
| [_mdns_pcb_deinit_api](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L299) | [pcb_if_deinit_lwip](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L318) |  |
| [_mdns_pcb_deinit_api](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L299) | [mdns_priv_if_deinit](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L341) |  |
| [_mdns_pcb_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L312) | [mdns_priv_if_init](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L394) |  |
| [_mdns_pcb_deinit](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L322) | [mdns_priv_if_deinit](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L341) |  |
| [_mdns_udp_pcb_write_api](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L332) | [write_if_lwip](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L351) | The error code conversion from err_t to esp_err_t (msg->err = err == ERR_OK ? ESP_OK : ESP_FAIL) might change the error handling behavior compared to the original function which passed through the raw err_t value. |
| [_mdns_udp_pcb_write](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L348) | [mdns_priv_if_write](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking.c#L29) |  |
| [_mdns_get_packet_data](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L384) | [mdns_priv_get_packet_data](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L403) |  |
| [_mdns_get_packet_len](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L389) | [mdns_priv_get_packet_len](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L408) |  |
| [_mdns_packet_free](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L394) | [mdns_priv_packet_free](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L111) |  |
| [ctor_networking_socket](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L61) | [ctor_networking_socket](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L83) |  |
| [delete_socket](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L69) | [delete_socket](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L91) |  |
| [mdns_is_netif_ready](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L74) | [mdns_priv_if_ready](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L96) | The refactored function name changed from mdns_is_netif_ready to mdns_priv_if_ready, which might affect existing code that calls this function. Also, the mock implementation (Result 1) returns a hardcoded true value which could mask real interface readiness checks. |
| [_mdns_get_packet_data](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L79) | [mdns_priv_get_packet_data](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L403) |  |
| [_mdns_get_packet_len](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L84) | [mdns_priv_get_packet_len](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L408) |  |
| [_mdns_packet_free](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L89) | [mdns_priv_packet_free](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L413) |  |
| [_mdns_pcb_deinit](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L96) | [mdns_priv_if_deinit](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L118) |  |
| [inet6_ntoa_r](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L121) | [inet6_ntoa_r](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L143) |  |
| [inet_ntoa_r](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L127) | [inet_ntoa_r](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L149) |  |
| [get_string_address](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L137) | [get_string_address](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L159) |  |
| [espaddr_to_inet](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L159) | [espaddr_to_inet](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L181) |  |
| [_mdns_udp_pcb_write](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L195) | [mdns_priv_if_write](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking.c#L29) | The refactored function appears to have multiple implementations (socket, lwip, and dummy versions) with the same name but different behaviors. This could lead to unexpected behavior depending on which implementation gets linked. The original function had distinct implementations for socket vs lwip cases with different names (_mdns_udp_pcb_write in both files but with different implementations). |
| [inet_to_espaddr](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L218) | [inet_to_espaddr](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L240) |  |
| [sock_recv_task](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L250) | [sock_recv_task](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L272) |  |
| [mdns_networking_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L341) | [networking_init](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L363) |  |
| [create_pcb](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L349) | [create_pcb](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L371) |  |
| [_mdns_pcb_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L372) | [mdns_priv_if_init](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L331) |  |
| [create_socket](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L383) | [create_socket](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L405) |  |
| [socket_add_ipv6_multicast_group](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L437) | [socket_add_ipv6_multicast_group](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L459) |  |
| [socket_add_ipv4_multicast_group](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L460) | [socket_add_ipv4_multicast_group](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L482) |  |
| [join_mdns_multicast_group](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_socket.c#L486) | [join_mdns_multicast_group](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_socket.c#L508) |  |
| [mdns_if_from_preset_if](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L136) | [mdns_if_from_preset](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_netif.c#L87) |  |
| [esp_netif_from_preset_if](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L151) | [netif_from_preset](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_netif.c#L102) |  |
| [_mdns_get_esp_netif](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L179) | [mdns_priv_get_esp_netif](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_netif.c#L118) |  |
| [_mdns_clean_netif_ptr](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L196) | [mdns_priv_netif_disable](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_netif.c#L134) |  |
| [_mdns_get_if_from_esp_netif](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L207) | [get_if_from_netif](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_netif.c#L144) |  |
| [_str_null_or_empty](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L224) | [mdns_utils_str_null_or_empty](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.h#L38) |  |
| [_mdns_mangle_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L232) | [mangle_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_receive.c#L137) |  |
| [_mdns_service_match](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L272) | [mdns_utils_service_match](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L119) |  |
| [_mdns_get_service_item](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L291) | [mdns_utils_get_service_item](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L129) |  |
| [_mdns_get_service_item_subtype](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L303) | [get_service_item_subtype](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_receive.c#L38) |  |
| [mdns_get_host_item](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L321) | [get_host_item](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_send.c#L237) |  |
| [_mdns_can_add_more_services](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L336) | [can_add_more_services](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_responder.c#L128) |  |
| [_mdns_send_rx_action](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L354) | [send_rx_action](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_networking_lwip.c#L47) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_service_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L389) | [mdns_utils_get_service_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L190) |  |
| [_mdns_instance_name_match](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L398) | [mdns_utils_instance_name_match](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L200) |  |
| [_mdns_service_match_instance](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L409) | [mdns_utils_service_match_instance](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L160) |  |
| [_mdns_get_service_item_instance](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L422) | [mdns_utils_get_service_item_instance](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L141) |  |
| [_mdns_read_fqdn](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L452) | [mdns_utils_read_fqdn](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L16) |  |
| [_mdns_set_u16](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L512) | [set_u16](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_send.c#L141) |  |
| [_mdns_append_u8](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L530) | [mdns_utils_append_u8](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.h#L147) |  |
| [_mdns_append_u16](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L549) | [mdns_utils_append_u16](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L259) |  |
| [_mdns_append_u32](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L568) | [append_u32](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_send.c#L37) |  |
| [_mdns_append_type](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L590) | [append_type](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_send.c#L59) | The function append_type uses append_u32 for TTL but mdns_utils_append_u16 for other fields, which might be inconsistent. Also, the original used _mdns_append_u32 consistently. |
| [_udp_pcb_main_init](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L50) | ??? |  |
| [_udp_pcb_main_deinit](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns_networking_lwip.c#L74) | ??? |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | ??? |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | ??? |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [mdns_priv_get_instance](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_responder.c#L108) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [mdns_priv_get_instance](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_responder.c#L108) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | mdns_priv_get_global_hostname |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [mdns_priv_get_instance](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_responder.c#L108) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) |  |
| [_mdns_get_default_instance_name](https://github.com/espressif/esp-protocols/blob/master/components/mdns/mdns.c#L373) | [get_default_instance_name](https://github.com/espressif/esp-protocols/blob/48fef6ffbedde8f019b3aca0af57cac91e65560c/components/mdns/mdns_utils.c#L173) | The refactored function has inverted logic for null/empty checks compared to the original. The original returns when strings are NOT null/empty, while the refactored version returns when strings ARE null/empty. This would cause the function to return empty strings instead of valid ones, breaking the expected behavior. |
